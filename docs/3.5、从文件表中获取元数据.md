# 1、修改filemeta的逻辑

filestore-server/meta/filemeta.go

```golang
// 导入mysql连接
import (
	mydb "filestore-server/db"
)

// UpdateFileMetaDB : 新增/更新文件元信息到mysql中
func UpdateFileMetaDB(fmeta FileMeta) bool {
	return mydb.OnFileUploadFinished(
		fmeta.FileSha1, fmeta.FileName, fmeta.FileSize, fmeta.Location)
}
```

# 2、修改handler逻辑

filestore-server/handler/handler.go

```golang
// FileUploadHandler函数中逻辑调整

meta.UpdateFileMeta(fileMeta)
// 调整为
meta.UpdateFileMetaDB(fileMeta)
```
